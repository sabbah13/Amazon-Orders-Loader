<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Install Amazon Order Loader Bookmarklet</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.6;
            color: #c9d1d9; /* GitHub dark text */
            background-color: #0d1117; /* GitHub dark background */
            max-width: 800px;
            margin: 40px auto; /* Add some top/bottom margin */
            padding: 20px;
        }

        h1 {
            border-bottom: 1px solid #21262d; /* GitHub dark border */
            padding-bottom: 0.3em;
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 16px;
        }

        h2 {
            margin-top: 32px; /* Increase top margin */
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            padding-bottom: 0.3em;
            font-size: 1.5em;
            border-bottom: 1px solid #21262d; /* GitHub dark border */
        }

        h3 {
             margin-top: 24px;
             margin-bottom: 16px;
             font-weight: 600;
             line-height: 1.25;
             font-size: 1.25em;
        }

        a {
            color: #58a6ff; /* GitHub dark link color */
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        code {
            font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
            background-color: rgba(110,118,129,0.4); /* GitHub dark inline code bg */
            padding: .2em .4em;
            margin: 0;
            font-size: 85%;
            border-radius: 6px;
        }

        .bookmarklet {
            display: inline-block;
            padding: 10px 16px;
            background: #238636; /* GitHub green */
            color: white;
            text-decoration: none;
            font-weight: bold;
            border-radius: 6px; /* Slightly more rounded */
            margin: 20px 0;
            cursor: move;
            border: 1px solid rgba(240, 246, 252, 0.1);
            box-shadow: 0 0 transparent, 0 0 transparent; /* Remove default shadow */
            transition: background-color 0.2s ease-out;
        }

        .bookmarklet:hover {
            background: #2ea043; /* GitHub green hover */
            text-decoration: none;
            border-color: rgba(240, 246, 252, 0.1);
        }

        .note {
            background: #161b22; /* GitHub dark subtle background */
            border-left: 3px solid #58a6ff; /* Match link color for emphasis */
            padding: 16px;
            margin: 20px 0;
            border-radius: 6px;
        }

        .instructions {
            margin-bottom: 30px;
        }

        hr {
            margin: 30px 0;
            border: 0;
            height: 1px;
            background: #21262d; /* GitHub dark border */
        }

        .highlight-banner {
            background: rgba(35, 134, 54, 0.15); /* Subtle green background */
            border: 1px solid rgba(35, 134, 54, 0.6); /* Green border */
            color: #c9d1d9;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
        }
        .highlight-banner h3 {
            margin-top: 0;
            color: #c9d1d9;
        }

        .arrow-animation {
            animation: bounce 2s infinite;
            display: inline-block;
            font-size: 24px;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .install-button {
            margin-top: 20px;
            text-align: center;
        }

        .code-box {
            background: #161b22; /* GitHub dark code block bg */
            padding: 16px;
            border-radius: 6px;
            border: 1px solid #30363d; /* GitHub dark border */
            font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
            font-size: 13px;
            overflow-x: auto;
            max-height: 200px;
            overflow-y: auto;
            margin: 20px 0;
            white-space: pre;
            color: #c9d1d9;
        }

        footer {
             margin-top: 50px;
             text-align: center;
             color: #8b949e; /* GitHub muted text */
             border-top: 1px solid #21262d; /* GitHub dark border */
             padding-top: 20px;
        }
        footer a {
            color: #58a6ff;
        }
        .footer-button {
            display: inline-block;
            padding: 5px 12px;
            margin: 0 10px;
            border: 1px solid #30363d;
            border-radius: 6px;
            background-color: #21262d;
            color: #c9d1d9;
            font-weight: 500;
        }
        .footer-button:hover {
            background-color: #30363d;
            text-decoration: none;
            border-color: #8b949e;
        }

    </style>
</head>
<body>
    <h1>üõí Install Amazon Order Loader Bookmarklet</h1>

    <div class="highlight-banner">
        <h3 style="margin-top: 0;">üì± Works directly in your browser!</h3>
        <p><strong>Just drag and drop the button below to your bookmarks bar - no installation needed!</strong></p>
        <div class="arrow-animation">‚¨áÔ∏è</div>
    </div>

    <div class="instructions">
        <h2>1. Quick Drag & Drop Method</h2>
        <p><strong>Simply drag this button to your bookmarks bar:</strong></p>

        <div class="install-button">
            <a class="bookmarklet" href="javascript:(function()%7B(()%20%3D%3E%20%7B%0A%20%20%2F%2F%20Base%20host%20for%20building%20URLs%0A%20%20const%20baseHost%20%3D%20location.origin%3B%0A%20%20%0A%20%20%2F%2F%20Track%20indexes%20we've%20already%20seen%20to%20avoid%20duplicates%0A%20%20const%20seenIndexes%20%3D%20new%20Set()%3B%0A%20%20%0A%20%20%2F%2F%20Create%20and%20return%20the%20overlay%20UI%0A%20%20const%20createOverlay%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20let%20overlay%20%3D%20document.getElementById(%22amazon-order-loader-overlay%22)%3B%0A%20%20%20%20if%20(overlay)%20return%20overlay%3B%0A%20%20%20%20%0A%20%20%20%20overlay%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20overlay.id%20%3D%20%22amazon-order-loader-overlay%22%3B%0A%20%20%20%20overlay.style.cssText%20%3D%20%22position%3Afixed%3Btop%3A0%3Bleft%3A0%3Bwidth%3A100vw%3Bheight%3A100vh%3Bbackground%3Argba(0%2C0%2C0%2C0.5)%3Bdisplay%3Aflex%3Balign-items%3Acenter%3Bjustify-content%3Acenter%3Bz-index%3A9999%3Btransition%3Aopacity%200.5s%20ease%3B%22%3B%0A%20%20%20%20%0A%20%20%20%20const%20box%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20box.style.cssText%20%3D%20%22background%3A%23fff%3Bpadding%3A20px%2030px%3Bborder-radius%3A10px%3Bfont-family%3Asans-serif%3Bfont-size%3A16px%3Bbox-shadow%3A0%200%2020px%20rgba(0%2C0%2C0%2C0.3)%3Btext-align%3Acenter%3Bmin-width%3A200px%3B%22%3B%0A%20%20%20%20%0A%20%20%20%20box.innerHTML%20%3D%20'%3Cdiv%20style%3D%22margin-bottom%3A10px%3B%22%3E%F0%9F%93%A6%20%3Cstrong%20id%3D%22amazon-progress-text%22%3ELoading...%3C%2Fstrong%3E%3C%2Fdiv%3E%3Cdiv%20style%3D%22background%3A%23eee%3Bborder-radius%3A5px%3Boverflow%3Ahidden%3B%22%3E%3Cdiv%20id%3D%22amazon-progress-bar%22%20style%3D%22height%3A10px%3Bwidth%3A0%3Bbackground%3A%234caf50%3Btransition%3Awidth%200.3s%20ease%3B%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E'%3B%0A%20%20%20%20%0A%20%20%20%20overlay.appendChild(box)%3B%0A%20%20%20%20document.body.appendChild(overlay)%3B%0A%20%20%20%20return%20overlay%3B%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Update%20the%20progress%20UI%0A%20%20const%20updateProgress%20%3D%20(page%2C%20total)%20%3D%3E%20%7B%0A%20%20%20%20const%20text%20%3D%20document.getElementById(%22amazon-progress-text%22)%3B%0A%20%20%20%20const%20bar%20%3D%20document.getElementById(%22amazon-progress-bar%22)%3B%0A%20%20%20%20%0A%20%20%20%20if%20(text)%20%7B%0A%20%20%20%20%20%20text.textContent%20%3D%20%60Loading%20page%20%24%7Bpage%7D%20of%20%24%7Btotal%7D%60%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(bar)%20%7B%0A%20%20%20%20%20%20bar.style.width%20%3D%20Math.min(100%20*%20(page%20%2F%20total)%2C%20100)%20%2B%20%22%25%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Hide%20the%20overlay%20with%20a%20nice%20fade%20out%0A%20%20const%20hideOverlay%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20const%20overlay%20%3D%20document.getElementById(%22amazon-order-loader-overlay%22)%3B%0A%20%20%20%20if%20(overlay)%20%7B%0A%20%20%20%20%20%20overlay.style.opacity%20%3D%20%220%22%3B%0A%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20overlay.remove()%3B%0A%20%20%20%20%20%20%7D%2C%201000)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Get%20the%20current%20page%20number%0A%20%20const%20getCurrentPageNumber%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20const%20li%20%3D%20document.querySelector(%22ul.a-pagination%20li.a-selected%22)%3B%0A%20%20%20%20if%20(!li)%20return%20null%3B%0A%20%20%20%20%0A%20%20%20%20const%20n%20%3D%20parseInt(li.textContent.trim()%2C%2010)%3B%0A%20%20%20%20return%20isNaN(n)%20%3F%20null%20%3A%20n%3B%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Find%20the%20highest%20startIndex%20in%20pagination%0A%20%20const%20extractMaxStartIndex%20%3D%20(doc)%20%3D%3E%20%7B%0A%20%20%20%20let%20max%20%3D%200%3B%0A%20%20%20%20%5B...doc.querySelectorAll(%22ul.a-pagination%20li%22)%5D.forEach((li)%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20a%20%3D%20li.querySelector(%22a%22)%3B%0A%20%20%20%20%20%20if%20(a)%20%7B%0A%20%20%20%20%20%20%20%20const%20match%20%3D%20a.href.match(%2FstartIndex%3D(%5Cd%2B)%2F)%3B%0A%20%20%20%20%20%20%20%20if%20(match%20%26%26%20parseInt(match%5B1%5D)%20%3E%20max)%20%7B%0A%20%20%20%20%20%20%20%20%20%20max%20%3D%20parseInt(match%5B1%5D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20max%3B%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Build%20a%20URL%20for%20a%20given%20start%20index%0A%20%20const%20buildPageUrl%20%3D%20(doc%2C%20targetStartIndex)%20%3D%3E%20%7B%0A%20%20%20%20for%20(const%20a%20of%20doc.querySelectorAll(%22ul.a-pagination%20a%22))%20%7B%0A%20%20%20%20%20%20if%20(a.href.includes(%22startIndex%3D%22))%20%7B%0A%20%20%20%20%20%20%20%20const%20u%20%3D%20new%20URL(a.href%2C%20baseHost)%3B%0A%20%20%20%20%20%20%20%20u.searchParams.set(%22startIndex%22%2C%20targetStartIndex.toString())%3B%0A%20%20%20%20%20%20%20%20return%20u.toString()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20null%3B%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Fetch%20a%20new%20page%20and%20insert%20its%20orders%0A%20%20const%20fetchAndInsert%20%3D%20async%20(startIndex%2C%20pageNum%2C%20totalPages)%20%3D%3E%20%7B%0A%20%20%20%20const%20url%20%3D%20buildPageUrl(document%2C%20startIndex)%3B%0A%20%20%20%20if%20(!url)%20%7B%0A%20%20%20%20%20%20console.error(%22%5BERROR%5D%20Could%20not%20build%20page%20URL.%22)%3B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20console.log(%60%5BINFO%5D%20Fetching%20page%20%24%7BpageNum%7D%2F%24%7BtotalPages%7D%3A%20%24%7Burl%7D%60)%3B%0A%20%20%20%20%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%2F%2F%20Fetch%20the%20page%0A%20%20%20%20%20%20const%20res%20%3D%20await%20fetch(url%2C%20%7B%20credentials%3A%20%22include%22%20%7D)%3B%0A%20%20%20%20%20%20if%20(!res.ok)%20throw%20new%20Error(%60HTTP%20%24%7Bres.status%7D%60)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20text%20%3D%20await%20res.text()%3B%0A%20%20%20%20%20%20const%20parser%20%3D%20new%20DOMParser()%3B%0A%20%20%20%20%20%20const%20doc%20%3D%20parser.parseFromString(text%2C%20%22text%2Fhtml%22)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20Find%20order%20cards%20on%20the%20new%20page%0A%20%20%20%20%20%20const%20orderCards%20%3D%20doc.querySelectorAll(%22li.order-card__list%22)%3B%0A%20%20%20%20%20%20console.log(%60%5BINFO%5D%20Found%20%24%7BorderCards.length%7D%20order%20card(s)%20on%20page%20%24%7BpageNum%7D%60)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20Find%20where%20to%20insert%20cards%20on%20current%20page%0A%20%20%20%20%20%20const%20last%20%3D%20document.querySelector(%22li.order-card__list%3Alast-of-type%22)%3B%0A%20%20%20%20%20%20if%20(!last)%20%7B%0A%20%20%20%20%20%20%20%20console.error(%22%5BERROR%5D%20Could%20not%20find%20last%20order%20card%20on%20current%20page.%22)%3B%0A%20%20%20%20%20%20%20%20return%20doc%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20parent%20%3D%20last.parentNode%3B%0A%20%20%20%20%20%20const%20next%20%3D%20last.nextSibling%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20Insert%20new%20cards%0A%20%20%20%20%20%20orderCards.forEach((card)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20clone%20%3D%20card.cloneNode(true)%3B%0A%20%20%20%20%20%20%20%20parent.insertBefore(clone%2C%20next)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20console.log(%60%5BSUCCESS%5D%20Appended%20%24%7BorderCards.length%7D%20card(s)%20from%20page%20%24%7BpageNum%7D%60)%3B%0A%20%20%20%20%20%20updateProgress(pageNum%2C%20totalPages)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20return%20doc%3B%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20console.error(%60%5BERROR%5D%20Failed%20to%20fetch%20or%20process%20page%20%24%7BpageNum%7D%3A%60%2C%20e)%3B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20-------------------%20Main%20Execution%20Start%20-------------------%0A%20%20%0A%20%20%2F%2F%20Get%20current%20page%20and%20total%20pages%0A%20%20const%20currentPageNumber%20%3D%20getCurrentPageNumber()%3B%0A%20%20if%20(!currentPageNumber)%20%7B%0A%20%20%20%20console.error(%22%5BERROR%5D%20Could%20not%20determine%20the%20current%20page%20number.%22)%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20%0A%20%20%2F%2F%20Initialize%20variables%0A%20%20const%20initialDoc%20%3D%20document%3B%0A%20%20const%20maxStartIndexInitial%20%3D%20extractMaxStartIndex(initialDoc)%3B%0A%20%20const%20totalPagesEstimateInitial%20%3D%20Math.floor(maxStartIndexInitial%20%2F%2010)%20%2B%201%3B%0A%20%20%0A%20%20let%20currentStartIndex%20%3D%2010%20*%20(currentPageNumber%20-%201)%20%2B%2010%3B%0A%20%20let%20pageNumber%20%3D%20currentPageNumber%3B%0A%20%20let%20maxStartIndex%20%3D%20maxStartIndexInitial%3B%0A%20%20let%20totalPagesEstimate%20%3D%20totalPagesEstimateInitial%3B%0A%20%20%0A%20%20console.log(%60%5BINFO%5D%20Current%20page%3A%20%24%7BcurrentPageNumber%7D%60)%3B%0A%20%20%0A%20%20%2F%2F%20Exit%20if%20we're%20already%20on%20the%20last%20page%0A%20%20if%20(currentStartIndex%20%3E%20maxStartIndex)%20%7B%0A%20%20%20%20console.log(%60%5B%E2%9C%85%20DONE%5D%20You're%20already%20on%20the%20last%20page%20(%24%7BcurrentPageNumber%7D).%20No%20additional%20pages%20to%20load.%60)%3B%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%20%20%0A%20%20console.log(%60%5BINFO%5D%20Starting%20from%20page%3A%20%24%7BpageNumber%20%2B%201%7D%60)%3B%0A%20%20console.log(%60%5BINFO%5D%20Initial%20total%20page%20estimate%3A%20%24%7BtotalPagesEstimate%7D%60)%3B%0A%20%20%0A%20%20%2F%2F%20Create%20UI%20and%20start%20loading%0A%20%20createOverlay()%3B%0A%20%20updateProgress(pageNumber%2C%20totalPagesEstimate)%3B%0A%20%20%0A%20%20%2F%2F%20Main%20loading%20process%0A%20%20(async%20function()%20%7B%0A%20%20%20%20while%20(currentStartIndex%20%3C%3D%20maxStartIndex)%20%7B%0A%20%20%20%20%20%20%2F%2F%20Skip%20already%20processed%20pages%0A%20%20%20%20%20%20if%20(seenIndexes.has(currentStartIndex))%20%7B%0A%20%20%20%20%20%20%20%20console.warn(%60%5BWARN%5D%20Already%20fetched%20startIndex%3D%24%7BcurrentStartIndex%7D%2C%20skipping.%60)%3B%0A%20%20%20%20%20%20%20%20currentStartIndex%20%2B%3D%2010%3B%0A%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20Fetch%20and%20process%20the%20next%20page%0A%20%20%20%20%20%20pageNumber%2B%2B%3B%0A%20%20%20%20%20%20seenIndexes.add(currentStartIndex)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20doc%20%3D%20await%20fetchAndInsert(currentStartIndex%2C%20pageNumber%2C%20totalPagesEstimate)%3B%0A%20%20%20%20%20%20if%20(!doc)%20break%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20Update%20our%20max%20index%20in%20case%20there%20are%20more%20pages%0A%20%20%20%20%20%20const%20newMax%20%3D%20extractMaxStartIndex(doc)%3B%0A%20%20%20%20%20%20if%20(newMax%20%3E%20maxStartIndex)%20%7B%0A%20%20%20%20%20%20%20%20console.log(%60%5BINFO%5D%20Updated%20maxStartIndex%20to%20%24%7BnewMax%7D%20(was%20%24%7BmaxStartIndex%7D)%60)%3B%0A%20%20%20%20%20%20%20%20maxStartIndex%20%3D%20newMax%3B%0A%20%20%20%20%20%20%20%20totalPagesEstimate%20%3D%20Math.floor(maxStartIndex%20%2F%2010)%20%2B%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20currentStartIndex%20%2B%3D%2010%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20console.log(%22%5B%E2%9C%85%20DONE%5D%20All%20future%20order%20pages%20have%20been%20loaded.%22)%3B%0A%20%20%20%20updateProgress(totalPagesEstimate%2C%20totalPagesEstimate)%3B%0A%20%20%20%20setTimeout(hideOverlay%2C%203000)%3B%0A%20%20%7D)()%3B%0A%7D)()%3B%7D)()%3B">üõí Load Amazon Orders</a>
        </div>

        <div class="note">
            <p><strong>How to use:</strong> Drag the green button above to your bookmarks bar. If your bookmarks bar isn't visible, press <code>Ctrl+Shift+B</code> (Windows/Chrome) or <code>Cmd+Shift+B</code> (Mac) to show it.</p>
        </div>

        <div class="highlight-banner">
            <p><strong>That's it! No installation required!</strong></p>
            <p>Just visit any Amazon orders page and click your new bookmark.</p>
        </div>
    </div>

    <hr>

    <div class="instructions">
        <h2>2. Manual Bookmark Creation (Alternative)</h2>
        <ol>
            <li>In your browser, open the bookmarks manager</li>
            <li>Add a <strong>new bookmark</strong></li>
            <li>Set the <strong>name</strong> to: <code>üõí Load All Amazon Orders</code></li>
            <li>Set the <strong>URL</strong> to the bookmarklet code:</li>
        </ol>

        <div class="code-box">javascript:(function()%7B(()%20%3D%3E%20%7B%0A%20%20%2F%2F%20Base%20host%20for%20building%20URLs%0A%20%20const%20baseHost%20%3D%20location.origin%3B%0A%20%20%0A%20%20%2F%2F%20Track%20indexes%20we've%20already%20seen%20to%20avoid%20duplicates%0A%20%20const%20seenIndexes%20%3D%20new%20Set()%3B%0A%20%20%0A%20%20%2F%2F%20Create%20and%20return%20the%20overlay%20UI%0A%20%20const%20createOverlay%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20let%20overlay%20%3D%20document.getElementById(%22amazon-order-loader-overlay%22)%3B%0A%20%20%20%20if%20(overlay)%20return%20overlay%3B%0A%20%20%20%20%0A%20%20%20%20overlay%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20overlay.id%20%3D%20%22amazon-order-loader-overlay%22%3B%0A%20%20%20%20overlay.style.cssText%20%3D%20%22position%3Afixed%3Btop%3A0%3Bleft%3A0%3Bwidth%3A100vw%3Bheight%3A100vh%3Bbackground%3Argba(0%2C0%2C0%2C0.5)%3Bdisplay%3Aflex%3Balign-items%3Acenter%3Bjustify-content%3Acenter%3Bz-index%3A9999%3Btransition%3Aopacity%200.5s%20ease%3B%22%3B%0A%20%20%20%20%0A%20%20%20%20const%20box%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20box.style.cssText%20%3D%20%22background%3A%23fff%3Bpadding%3A20px%2030px%3Bborder-radius%3A10px%3Bfont-family%3Asans-serif%3Bfont-size%3A16px%3Bbox-shadow%3A0%200%2020px%20rgba(0%2C0%2C0%2C0.3)%3Btext-align%3Acenter%3Bmin-width%3A200px%3B%22%3B%0A%20%20%20%20%0A%20%20%20%20box.innerHTML%20%3D%20'%3Cdiv%20style%3D%22margin-bottom%3A10px%3B%22%3E%F0%9F%93%A6%20%3Cstrong%20id%3D%22amazon-progress-text%22%3ELoading...%3C%2Fstrong%3E%3C%2Fdiv%3E%3Cdiv%20style%3D%22background%3A%23eee%3Bborder-radius%3A5px%3Boverflow%3Ahidden%3B%22%3E%3Cdiv%20id%3D%22amazon-progress-bar%22%20style%3D%22height%3A10px%3Bwidth%3A0%3Bbackground%3A%234caf50%3Btransition%3Awidth%200.3s%20ease%3B%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E'%3B%0A%20%20%20%20%0A%20%20%20%20overlay.appendChild(box)%3B%0A%20%20%20%20document.body.appendChild(overlay)%3B%0A%20%20%20%20return%20overlay%3B%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Update%20the%20progress%20UI%0A%20%20const%20updateProgress%20%3D%20(page%2C%20total)%20%3D%3E%20%7B%0A%20%20%20%20const%20text%20%3D%20document.getElementById(%22amazon-progress-text%22)%3B%0A%20%20%20%20const%20bar%20%3D%20document.getElementById(%22amazon-progress-bar%22)%3B%0A%20%20%20%20%0A%20%20%20%20if%20(text)%20%7B%0A%20%20%20%20%20%20text.textContent%20%3D%20%60Loading%20page%20%24%7Bpage%7D%20of%20%24%7Btotal%7D%60%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(bar)%20%7B%0A%20%20%20%20%20%20bar.style.width%20%3D%20Math.min(100%20*%20(page%20%2F%20total)%2C%20100)%20%2B%20%22%25%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Hide%20the%20overlay%20with%20a%20nice%20fade%20out%0A%20%20const%20hideOverlay%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20const%20overlay%20%3D%20document.getElementById(%22amazon-order-loader-overlay%22)%3B%0A%20%20%20%20if%20(overlay)%20%7B%0A%20%20%20%20%20%20overlay.style.opacity%20%3D%20%220%22%3B%0A%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20overlay.remove()%3B%0A%20%20%20%20%20%20%7D%2C%201000)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Get%20the%20current%20page%20number%0A%20%20const%20getCurrentPageNumber%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20const%20li%20%3D%20document.querySelector(%22ul.a-pagination%20li.a-selected%22)%3B%0A%20%20%20%20if%20(!li)%20return%20null%3B%0A%20%20%20%20%0A%20%20%20%20const%20n%20%3D%20parseInt(li.textContent.trim()%2C%2010)%3B%0A%20%20%20%20return%20isNaN(n)%20%3F%20null%20%3A%20n%3B%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Find%20the%20highest%20startIndex%20in%20pagination%0A%20%20const%20extractMaxStartIndex%20%3D%20(doc)%20%3D%3E%20%7B%0A%20%20%20%20let%20max%20%3D%200%3B%0A%20%20%20%20%5B...doc.querySelectorAll(%22ul.a-pagination%20li%22)%5D.forEach((li)%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20a%20%3D%20li.querySelector(%22a%22)%3B%0A%20%20%20%20%20%20if%20(a)%20%7B%0A%20%20%20%20%20%20%20%20const%20match%20%3D%20a.href.match(%2FstartIndex%3D(%5Cd%2B)%2F)%3B%0A%20%20%20%20%20%20%20%20if%20(match%20%26%26%20parseInt(match%5B1%5D)%20%3E%20max)%20%7B%0A%20%20%20%20%20%20%20%20%20%20max%20%3D%20parseInt(match%5B1%5D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20max%3B%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Build%20a%20URL%20for%20a%20given%20start%20index%0A%20%20const%20buildPageUrl%20%3D%20(doc%2C%20targetStartIndex)%20%3D%3E%20%7B%0A%20%20%20%20for%20(const%20a%20of%20doc.querySelectorAll(%22ul.a-pagination%20a%22))%20%7B%0A%20%20%20%20%20%20if%20(a.href.includes(%22startIndex%3D%22))%20%7B%0A%20%20%20%20%20%20%20%20const%20u%20%3D%20new%20URL(a.href%2C%20baseHost)%3B%0A%20%20%20%20%20%20%20%20u.searchParams.set(%22startIndex%22%2C%20targetStartIndex.toString())%3B%0A%20%20%20%20%20%20%20%20return%20u.toString()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20null%3B%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20Fetch%20a%20new%20page%20and%20insert%20its%20orders%0A%20%20const%20fetchAndInsert%20%3D%20async%20(startIndex%2C%20pageNum%2C%20totalPages)%20%3D%3E%20%7B%0A%20%20%20%20const%20url%20%3D%20buildPageUrl(document%2C%20startIndex)%3B%0A%20%20%20%20if%20(!url)%20%7B%0A%20%20%20%20%20%20console.error(%22%5BERROR%5D%20Could%20not%20build%20page%20URL.%22)%3B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20console.log(%60%5BINFO%5D%20Fetching%20page%20%24%7BpageNum%7D%2F%24%7BtotalPages%7D%3A%20%24%7Burl%7D%60)%3B%0A%20%20%20%20%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%2F%2F%20Fetch%20the%20page%0A%20%20%20%20%20%20const%20res%20%3D%20await%20fetch(url%2C%20%7B%20credentials%3A%20%22include%22%20%7D)%3B%0A%20%20%20%20%20%20if%20(!res.ok)%20throw%20new%20Error(%60HTTP%20%24%7Bres.status%7D%60)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20text%20%3D%20await%20res.text()%3B%0A%20%20%20%20%20%20const%20parser%20%3D%20new%20DOMParser()%3B%0A%20%20%20%20%20%20const%20doc%20%3D%20parser.parseFromString(text%2C%20%22text%2Fhtml%22)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20Find%20order%20cards%20on%20the%20new%20page%0A%20%20%20%20%20%20const%20orderCards%20%3D%20doc.querySelectorAll(%22li.order-card__list%22)%3B%0A%20%20%20%20%20%20console.log(%60%5BINFO%5D%20Found%20%24%7BorderCards.length%7D%20order%20card(s)%20on%20page%20%24%7BpageNum%7D%60)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20Find%20where%20to%20insert%20cards%20on%20current%20page%0A%20%20%20%20%20%20const%20last%20%3D%20document.querySelector(%22li.order-card__list%3Alast-of-type%22)%3B%0A%20%20%20%20%20%20if%20(!last)%20%7B%0A%20%20%20%20%20%20%20%20console.error(%22%5BERROR%5D%20Could%20not%20find%20last%20order%20card%20on%20current%20page.%22)%3B%0A%20%20%20%20%20%20%20%20return%20doc%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20parent%20%3D%20last.parentNode%3B%0A%20%20%20%20%20%20const%20next%20%3D%20last.nextSibling%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20Insert%20new%20cards%0A%20%20%20%20%20%20orderCards.forEach((card)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20clone%20%3D%20card.cloneNode(true)%3B%0A%20%20%20%20%20%20%20%20parent.insertBefore(clone%2C%20next)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20console.log(%60%5BSUCCESS%5D%20Appended%20%24%7BorderCards.length%7D%20card(s)%20from%20page%20%24%7BpageNum%7D%60)%3B%0A%20%20%20%20%20%20updateProgress(pageNum%2C%20totalPages)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20return%20doc%3B%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20console.error(%60%5BERROR%5D%20Failed%20to%20fetch%20or%20process%20page%20%24%7BpageNum%7D%3A%60%2C%20e)%3B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%20%20%0A%20%20%2F%2F%20-------------------%20Main%20Execution%20Start%20-------------------%0A%20%20%0A%20%20%2F%2F%20Get%20current%20page%20and%20total%20pages%0A%20%20const%20currentPageNumber%20%3D%20getCurrentPageNumber()%3B%0A%20%20if%20(!currentPageNumber)%20%7B%0A%20%20%20%20console.error(%22%5BERROR%5D%20Could%20not%20determine%20the%20current%20page%20number.%22)%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20%0A%20%20%2F%2F%20Initialize%20variables%0A%20%20const%20initialDoc%20%3D%20document%3B%0A%20%20const%20maxStartIndexInitial%20%3D%20extractMaxStartIndex(initialDoc)%3B%0A%20%20const%20totalPagesEstimateInitial%20%3D%20Math.floor(maxStartIndexInitial%20%2F%2010)%20%2B%201%3B%0A%20%20%0A%20%20let%20currentStartIndex%20%3D%2010%20*%20(currentPageNumber%20-%201)%20%2B%2010%3B%0A%20%20let%20pageNumber%20%3D%20currentPageNumber%3B%0A%20%20let%20maxStartIndex%20%3D%20maxStartIndexInitial%3B%0A%20%20let%20totalPagesEstimate%20%3D%20totalPagesEstimateInitial%3B%0A%20%20%0A%20%20console.log(%60%5BINFO%5D%20Current%20page%3A%20%24%7BcurrentPageNumber%7D%60)%3B%0A%20%20%0A%20%20%2F%2F%20Exit%20if%20we're%20already%20on%20the%20last%20page%0A%20%20if%20(currentStartIndex%20%3E%20maxStartIndex)%20%7B%0A%20%20%20%20console.log(%60%5B%E2%9C%85%20DONE%5D%20You're%20already%20on%20the%20last%20page%20(%24%7BcurrentPageNumber%7D).%20No%20additional%20pages%20to%20load.%60)%3B%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%20%20%0A%20%20console.log(%60%5BINFO%5D%20Starting%20from%20page%3A%20%24%7BpageNumber%20%2B%201%7D%60)%3B%0A%20%20console.log(%60%5BINFO%5D%20Initial%20total%20page%20estimate%3A%20%24%7BtotalPagesEstimate%7D%60)%3B%0A%20%20%0A%20%20%2F%2F%20Create%20UI%20and%20start%20loading%0A%20%20createOverlay()%3B%0A%20%20updateProgress(pageNumber%2C%20totalPagesEstimate)%3B%0A%20%20%0A%20%20%2F%2F%20Main%20loading%20process%0A%20%20(async%20function()%20%7B%0A%20%20%20%20while%20(currentStartIndex%20%3C%3D%20maxStartIndex)%20%7B%0A%20%20%20%20%20%20%2F%2F%20Skip%20already%20processed%20pages%0A%20%20%20%20%20%20if%20(seenIndexes.has(currentStartIndex))%20%7B%0A%20%20%20%20%20%20%20%20console.warn(%60%5BWARN%5D%20Already%20fetched%20startIndex%3D%24%7BcurrentStartIndex%7D%2C%20skipping.%60)%3B%0A%20%20%20%20%20%20%20%20currentStartIndex%20%2B%3D%2010%3B%0A%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20Fetch%20and%20process%20the%20next%20page%0A%20%20%20%20%20%20pageNumber%2B%2B%3B%0A%20%20%20%20%20%20seenIndexes.add(currentStartIndex)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20doc%20%3D%20await%20fetchAndInsert(currentStartIndex%2C%20pageNumber%2C%20totalPagesEstimate)%3B%0A%20%20%20%20%20%20if%20(!doc)%20break%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20Update%20our%20max%20index%20in%20case%20there%20are%20more%20pages%0A%20%20%20%20%20%20const%20newMax%20%3D%20extractMaxStartIndex(doc)%3B%0A%20%20%20%20%20%20if%20(newMax%20%3E%20maxStartIndex)%20%7B%0A%20%20%20%20%20%20%20%20console.log(%60%5BINFO%5D%20Updated%20maxStartIndex%20to%20%24%7BnewMax%7D%20(was%20%24%7BmaxStartIndex%7D)%60)%3B%0A%20%20%20%20%20%20%20%20maxStartIndex%20%3D%20newMax%3B%0A%20%20%20%20%20%20%20%20totalPagesEstimate%20%3D%20Math.floor(maxStartIndex%20%2F%2010)%20%2B%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20currentStartIndex%20%2B%3D%2010%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20console.log(%22%5B%E2%9C%85%20DONE%5D%20All%20future%20order%20pages%20have%20been%20loaded.%22)%3B%0A%20%20%20%20updateProgress(totalPagesEstimate%2C%20totalPagesEstimate)%3B%0A%20%20%20%20setTimeout(hideOverlay%2C%203000)%3B%0A%20%20%7D)()%3B%0A%7D)()%3B%7D)()%3B</div>

        <div class="note">
            <p><strong>Note:</strong> Make sure the code starts with <code>javascript:(function(){...})()</code></p>
        </div>
    </div>

    <footer style="margin-top: 50px; text-align: center; color: #8b949e; border-top: 1px solid #21262d; padding-top: 20px;">
        <p>
            <a href="https://github.com/sabbah13/amazon-orders-loader" class="footer-button">‚¨ÖÔ∏è Back to GitHub Project</a>
            <a href="../" class="footer-button">üè† Main Page</a>
        </p>
    </footer>
</body>
</html> 